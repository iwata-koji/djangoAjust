{% extends "ajust_app/base.html" %}

{% block content %}
<h1>{{ event.title }}</h1>

<h2>Participants</h2>
<table>
    <tr>
        <th>Name</th>
        {% for date in dates %}
            <th>{{ date.date|date:"m/d" }}</th>
        {% endfor %}
    </tr>
    {% for data in response_data %}
        <tr>
            <td>{{ data.name }}</td>
            {% for response in data.responses %}
                <td>{{ response }}</td>
            {% endfor %}
        </tr>
    {% endfor %}
</table>

<h2>Add Your Response</h2>
<form method="post">
    {% csrf_token %}
    {{ participant_form.as_p }}
    {% for date in dates %}
        <p>
            {{ date.date|date:"m/d" }}:
            <select name="availability_{{ date.id }}">
                <option value="">-</option>
                <option value="Y">◯</option>
                <option value="M">△</option>
                <option value="N">✕</option>
            </select>
        </p>
    {% endfor %}
    <button type="submit">Submit Response</button>
</form>
{% endblock %}